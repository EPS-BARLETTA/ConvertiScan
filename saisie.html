<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>ConvertiScan — Saisie</title>
  <link rel="stylesheet" href="style.css">
  <script src="vendor/qrcode.min.js"></script>
  <script>if(!window.QRCode){document.write('<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"><\/script>')}</script>
</head>
<body>
  <main class="wrap">
    <header class="topbar">
      <a class="btn" href="index.html">🏠 Accueil</a>
      <h1>ConvertiScan</h1>
    </header>

    <!-- Identité élève (unique) -->
    <section class="card">
      <h2>Identité élève</h2>
      <div class="grid-3">
        <div class="row">
          <label>Nom (MAJ)</label>
          <input name="nom" placeholder="DURAND" autocomplete="off" autocapitalize="characters">
        </div>
        <div class="row">
          <label>Prénom</label>
          <input name="prenom" placeholder="Camille" autocomplete="off">
        </div>
        <div class="row">
          <label>Classe</label>
          <input name="classe" placeholder="4eB / 4B / 4èmeB" autocomplete="off">
        </div>
      </div>
      <div class="buttons">
        <button class="btn" type="button" id="saveId">💾 Enregistrer identité</button>
        <button class="btn" type="button" id="loadId">📂 Charger identité</button>
      </div>
    </section>

    <!-- Deux courses pour le même élève -->
    <form id="form" class="grid-2" onsubmit="return false">
      <!-- Course 1 -->
      <fieldset class="card">
        <legend>Course 1 — Temps cumulés</legend>
        <div class="grid-2 tight">
          <div class="row"><label>200 (cumul)</label><input name="c1_t200" placeholder="52s ou 0:52 ou 52" inputmode="decimal"></div>
          <div class="row"><label>400 (cumul)</label><input name="c1_t400" placeholder="1:48 ou 108" inputmode="decimal"></div>
          <div class="row"><label>600 (cumul)</label><input name="c1_t600" placeholder="2:47" inputmode="decimal"></div>
          <div class="row"><label>800 (cumul)</label><input name="c1_t800" placeholder="3:44 ou 224" inputmode="decimal"></div>
        </div>
        <div class="rowsm">
          <div class="muted">Splits Course 1 :</div>
          <div class="chips" id="c1_out"></div>
        </div>
      </fieldset>

      <!-- Course 2 -->
      <fieldset class="card">
        <legend>Course 2 — Temps cumulés</legend>
        <div class="grid-2 tight">
          <div class="row"><label>200 (cumul)</label><input name="c2_t200" placeholder="52s ou 0:52 ou 52" inputmode="decimal"></div>
          <div class="row"><label>400 (cumul)</label><input name="c2_t400" placeholder="1:48 ou 108" inputmode="decimal"></div>
          <div class="row"><label>600 (cumul)</label><input name="c2_t600" placeholder="2:47" inputmode="decimal"></div>
          <div class="row"><label>800 (cumul)</label><input name="c2_t800" placeholder="3:44 ou 224" inputmode="decimal"></div>
        </div>
        <div class="rowsm">
          <div class="muted">Splits Course 2 :</div>
          <div class="chips" id="c2_out"></div>
        </div>
      </fieldset>
    </form>

    <section class="card center">
      <button class="btn yellow big" type="button" id="makeOneQR">🧾 Générer 1 QR (2 courses)</button>
      <div id="qrONE" class="qrbox" style="justify-content:center"></div>
      <div class="muted" id="qrHint"></div>
    </section>

    <section class="card">
      <div class="muted">Astuce</div>
      <p>À l’écran : <strong>mm:ss</strong>. Dans le QR : <strong>secondes numériques</strong> (ex. 48 → 48, 3:44 → 224).</p>
    </section>
  </main>

  <footer class="footer">
    ConvertiScan — Équipe EPS Lycée Vauban — LUXEMBOURG — JB
  </footer>

  <script src="convertiscan.js"></script>
</body>
</html>
